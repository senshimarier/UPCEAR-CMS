<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Franquicia</title>
    <link rel="stylesheet" href="admin.css">
    <style>
        .form-container { max-width: 900px; margin: 2rem auto; }
        fieldset { border: 1px solid #ddd; border-radius: 8px; margin-bottom: 2rem; background: #fff; }
        legend { font-size: 1.3rem; font-weight: bold; color: #0A295F; padding: 0 0.5rem; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; padding: 1.5rem; }
        .form-grid .full-width { grid-column: 1 / -1; }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { font-weight: bold; margin-bottom: 0.5rem; color: #333; }
        .form-group input, .form-group textarea {
            padding: 0.75rem; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;
        }
        .btn-save { background: #28a745; color: white; }
        .btn-delete { background: #dc3545; color: white; }
        .btn-delete:hover { background: #c82333; }
        .btn-back { text-decoration: none; color: #0070C6; margin-bottom: 1rem; display: inline-block; }
        .cerveza-card { border: 1px solid #eee; border-radius: 4px; margin-bottom: 1rem; }
        .cerveza-card h4 { background: #f9f9f9; padding: 0.75rem; margin: 0; border-bottom: 1px solid #eee; }
        .error-text { color: #dc3545; font-weight: bold; }
        .upload-status { color: green; font-size: 0.9rem; margin-top: 0.25rem; }
    </style>
</head>
<body>

    <header class="admin-header">
        <h1>Editar Franquicia</h1>
        <button id="logout-btn" class="btn-logout">Cerrar Sesión</button>
    </header>

    <main class="dashboard-container">
        <a href="dashboard.html" 
   style="
        background: #6c757d;
        color: white;
        text-decoration: none;
        display: inline-flex; /* evita que se estire */
        align-items: center;
        padding: 0.40rem 0.85rem;
        font-size: 0.9rem;
        border-radius: 12px;
        font-family: inherit;
        white-space: nowrap;
        font-weight: 500;
        width: auto;      /* evita que se haga grande */
        max-width: fit-content; /* se ajusta al texto */
   ">
    ← Volver al Dashboard
</a>

        
        <form id="edit-form" class="form-container">
            <fieldset>
                <legend>Datos Generales</legend>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="franquicia-nombre">Nombre</label>
                        <input type="text" id="franquicia-nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="franquicia-slug">Slug (URL)</label>
                        <input type="text" id="franquicia-slug" disabled>
                        <small>El slug no se puede cambiar.</small>
                    </div>
                    <div class="form-group">
                        <label for="franquicia-color">Color (CSS)</label>
                        <input type="text" id="franquicia-color">
                    </div>
                    <div class="form-group">
                        <label for="franquicia-logo">Ruta del Logo</label>
                        <input type="text" id="franquicia-logo">
                        <small>Ej: src/chelab_logo.png</small>
                    </div>
                </div>
                <div class="card-actions">
                    <button type="button" id="save-general-btn" class="btn btn-save">Guardar Datos Generales</button>
                </div>
            </fieldset>

            <!-- NUEVO FORMULARIO PARA AÑADIR CERVEZA -->
            <fieldset id="add-cerveza-form" style="border-color: #28a745;">
                <legend>Añadir Nueva Cerveza</legend>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Data Key (ID de URL)</label>
                        <input type="text" id="add-data_key" required>
                        <small>Ej: "nueva_ipa" (minúsculas, guion_bajo, sin espacios)</small>
                    </div>
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" id="add-nombre" required>
                    </div>
                    <div class="form-group">
                        <label>Ruta Imagen</label>
                        <!-- AÑADE ESTE CAMPO DE TEXTO QUE FALTABA -->
                        <input type="text" id="add-imagen" placeholder="Sube una imagen..." readonly>
                        
                        <input type="file" id="add-file-input" style="margin-top: 0.5rem;" accept=".jpg,.jpeg,.png">
                        <button type="button" id="add-upload-btn" class="btn" style="margin-top: 0.5rem; background: #555;">Subir Imagen</button>
                        <small id="add-upload-status" class="upload-status"></small>
                    </div>
                    <div class="form-group full-width">
                        <label>Descripción</label>
                        <textarea rows="4" id="add-descripcion"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Características (una por línea)</label>
                        <textarea rows="3" id="add-caracteristicas"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Especificaciones (una por línea)</label>
                        <textarea rows="3" id="add-especificaciones"></textarea>
                    </div>
                </div>
                <div class="card-actions">
                    <button type="button" id="add-cerveza-btn" class="btn btn-save">Añadir Cerveza</button>
                </div>
                <p id="add-error-message" class="error-text" style="display: none; padding: 1.5rem;"></p>
            </fieldset>

            <fieldset>
                <legend>Cervezas Existentes</legend>
                <div id="cervezas-editor-list" class="form-grid full-width">
                    <p>Cargando cervezas...</p>
                </div>
            </fieldset>
        </form>
    </main>

    <script src="edit.js"></script>
</body>
</html>